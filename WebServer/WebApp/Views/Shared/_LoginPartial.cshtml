@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    <li class="dropdown user user-menu" on-toggle="toggled(open)">
        <a href="" class="dropdown-toggle" data-toggle="dropdown"  uib-dropdown-toggle>
            <span class="hidden-xs"> @User.Identity.GetUserName()</span>
        </a>
        <ul class="dropdown-menu" uib-dropdown-menu>
            <!-- User image -->
            <li class="user-header">
               
                <p>
                    @User.Identity.GetUserName()
                   <small>Admin</small>
                </p>
            </li>
          
            <li class="user-footer">
                <div class="pull-left">
                    @Html.ActionLink("Manage User", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage" })
                </div>
                <div class="pull-right">
                   @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm"}))
                    {
                     @Html.AntiForgeryToken()
                    <a onclick="logout()" href="">Log off</a>
                    }
                </div>
            </li>
        </ul>
    </li>
}
else
{
    <ul class="nav navbar-nav">
        <li>@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>
        <li>@Html.ActionLink("Log in", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
    </ul>
}

<script>
    function logout() {
        document.getElementById('logoutForm').submit()
    }
</script>